<%
import os
from time import gmtime,strftime
import json

if form.has_key('picture') and \
   form.has_key('user_id') and \
   form.has_key('name') and \
   form.has_key('category') and \
   form.has_key('description') and \
   form.has_key('price'):


   # A nested Field object holds the file

   except:
      req.write(json.dump({'error':'Failed to create the product'}))

   # strip leading path from file name to avoid directory traversal attacks



